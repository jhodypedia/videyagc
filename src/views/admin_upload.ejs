<!doctype html>
<html>
<head><%- include("partials/head", { settings, title: "Upload Video" }) %></head>
<body class="min-h-screen bg-[#05070b] text-white">
  <%- include("partials/navbar", { settings }) %>

  <div class="max-w-3xl mx-auto px-4 py-6">
    <div class="flex gap-2 text-sm">
      <a class="btn" href="<%= ADMIN_PATH %>/">Dashboard</a>
      <a class="btn" href="<%= ADMIN_PATH %>/videos">Videos</a>
    </div>

    <form method="post" enctype="multipart/form-data" class="mt-4 rounded-2xl border border-white/10 bg-white/5 p-5">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">

      <% if (error) { %><div class="mb-3 text-sm text-red-300 bg-red-500/10 border border-red-500/20 rounded px-3 py-2"><%= error %></div><% } %>
      <% if (ok) { %><div class="mb-3 text-sm text-green-300 bg-green-500/10 border border-green-500/20 rounded px-3 py-2"><%= ok %></div><% } %>

      <div>
        <label class="text-xs text-white/60">Title</label>
        <input name="title" class="inp" required>
      </div>

      <div class="mt-3">
        <label class="text-xs text-white/60">Slug (optional)</label>
        <input name="slug" class="inp" placeholder="auto from title">
      </div>

      <div class="mt-3">
        <label class="text-xs text-white/60">Tags (comma)</label>
        <input name="tags" class="inp" placeholder="funny,viral,video">
      </div>

      <div class="mt-3">
        <label class="text-xs text-white/60">Description</label>
        <textarea name="description" class="inp" rows="4"></textarea>
      </div>

      <div class="mt-3">
        <label class="text-xs text-white/60">Video file</label>
        <input type="file" name="video" accept="video/*" class="inp" required>
        <div class="text-xs text-white/40 mt-1">Allowed: mp4/webm/mkv/mov â€¢ max <%= process.env.MAX_UPLOAD_MB || 400 %>MB</div>
      </div>

      <div class="mt-3 flex items-center gap-2 text-sm">
        <input id="pub" type="checkbox" name="is_published" value="1" checked>
        <label for="pub">Publish</label>
      </div>

      <button class="btn mt-4">Upload</button>
    </form>
  </div>

  <%- include("partials/footer", { settings }) %>
</body>
</html>
